# 多态

多态是建立在封装和继承基础之上的

##### 多态的具体体现

- 重写和重载体现多态
- 对象的多态 



```` apl
一个对象的编译类型和运行类型可以不一致
编译类型在定义对象时，就确定了，不能改变
运行类型时可以变化的
编译类型看定义时 = 号的左边， 运行类型看 = 号的右边
````

````java
Animal animal = new Dog();   //animal的编译类型时Animal，运行类型是Dog
animal = new Cat()   //animal的运行类型变成了Cat，编译类型仍然是Animal
````





##### 多态的细节

- 本质：父类的引用指向了子类的对象
- 语法：父类类型  引用名 = new 子类()
- 特点：编译类型看左边，运行类型看右边



向上转型

> **可以调用父类中所有的成员（遵守访问权限修饰符）**
>
> **不能调用子类的特有成员**
>
> 在编译阶段，能调用哪些成员是由编译类型决定的
>
> **最终运行效果看子类的具体实现** 
>
> 调用方法时，按照子类（运行类型）开始查找方法然后调用，规则与上一致



向下转型

````java
Animal animal = new Cat();
Cat cat =(Cat)animal;   // 向下转型
        cat.catchMouse();  //使用原来不能使用的子类特有方法
````



###### 属性重写问题

属性没有重写的说法，属性的值只看编译类型

````java
Base base = new Sub();       //输出Base的count
System.out.println(base.count);
````



动态绑定机制

```` apl
1.当调用对象方法的时候，该方法会和该对象的内存地址/运行类型绑定
2.当调用对象属性时，没有动态绑定机制，哪里声明，哪里调用




````

